/*! @misonou/brew-extension-auth v0.5.0 | (c) misonou | https://misonou.github.io */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@azure/msal-browser"),require("brew-js"),require("zeta-dom")):"function"==typeof define&&define.amd?define("@misonou/brew-extension-auth/msal",["@azure/msal-browser","brew-js","zeta-dom"],t):"object"==typeof exports?exports["@misonou/brew-extension-auth/msal"]=t(require("@azure/msal-browser"),require("brew-js"),require("zeta-dom")):(e.brew=e.brew||{},e.brew.Auth=e.brew.Auth||{},e.brew.Auth.MsalAuthProvider=t(e.msal,e.brew,e.zeta))}(self,function(e,t,n){return function(){"use strict";var o={231:function(e){e.exports=n},735:function(t){t.exports=e},760:function(e){e.exports=t}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return o[e](n,n.exports,i),n.exports}i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var u={};i.d(u,{default:function(){return y}});var c=i(735),a=i(760),s=a.getJSON,f=a.isSubPathOf,l=i(231).util,p=l.define,d=l.extend,g=l.is,h="https://login.microsoftonline.com/",v={},b={},m={common:!0,organizations:!0},A={cache:{cacheLocation:"localStorage"}};function w(){delete sessionStorage["msal.interaction.status"]}function x(e,t,n){var o=n.scopes;function r(e,n){return t.acquireTokenSilent({redirectUri:n.redirectUri,account:e,scopes:o})}function i(e){if(e){var n=e.account;return t.setActiveAccount(n),{account:n,accountId:n.homeAccountId,accessToken:e.accessToken,expiresOn:e.expiresOn}}}return{key:e,authType:"federated",providerType:"msal",isHandleable:function(e){if(!/@(.+)$/.test(e))return!1;var n,o=t.getConfiguration().auth.authority;return!!m[o.slice(34)]||(n=RegExp.$1,b[n]||(b[n]=s(h+n+"/v2.0/.well-known/openid-configuration").then(function(e){return e.issuer},function(e){if(400===e.status)return"";delete b[n]}))).then(function(e){return!!f(e,o)})},init:function(e){return t.enableAccountStorageEvents(),t.addEventCallback(function(t){t.eventType===c.EventType.ACCOUNT_REMOVED&&e.revokeSession(t.payload.homeAccountId)}),t.initialize()},getActiveAccount:function(e){var n=t.getActiveAccount();return n&&r(n,e).then(i,function(){t.setActiveAccount(null)})},handleLoginRedirect:function(){return t.handleRedirectPromise().then(i)},refresh:function(e,t){return r(e.account,t).then(i)},login:function(e,n){var r={redirectUri:n.redirectUri,loginHint:e.loginHint,scopes:o};return w(),"popup"===e.interaction?t.loginPopup(r).then(i):t.loginRedirect(r)},logout:function(e,n){var o=t.getAccount({homeAccountId:e.accountId});return e.singleLogout?(w(),"popup"===e.interaction?t.logoutPopup({account:o}):t.logoutRedirect({account:o,postLogoutRedirectUri:n.redirectUri})):t.clearCache({account:o})}}}p(v,{defaultConfig:A,setDefault:function(e){d(!0,A,e)},create:function(e,t,n,o){"string"==typeof t&&(t={scopes:o,config:{auth:{clientId:t,authority:n}}});var r=g(t,c.PublicClientApplication)||new c.PublicClientApplication(d(!0,{},A,t.config));return r.getConfiguration().auth.navigateToLoginRequestUrl=!1,x(e,r,t)}});var y=v;return u=u.default}()});
//# sourceMappingURL=brew-auth-msal.min.js.map